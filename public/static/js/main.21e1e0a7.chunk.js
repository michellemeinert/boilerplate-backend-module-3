(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,n){e.exports=n(54)},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(24),c=n.n(o),i=n(58),l=n(2),s=n(3),u=n(5),p=n(4),m=n(6),h=n(60),d=n(56),f=n(13),g=n.n(f),j=new(function(){function e(){Object(l.a)(this,e),this.auth=g.a.create({baseURL:"http://connect-dev-ironhack.herokuapp.com",withCredentials:!0})}return Object(s.a)(e,[{key:"signup",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/signup",{username:t,password:n}).then(function(e){return e.data})}},{key:"login",value:function(e){var t=e.username,n=e.password;return this.auth.post("/auth/login",{username:t,password:n}).then(function(e){return e.data})}},{key:"logout",value:function(){return this.auth.post("/auth/logout",{}).then(function(e){return e.data})}},{key:"me",value:function(){return this.auth.get("/auth/me").then(function(e){return e.data})}}]),e}()),b=r.a.createContext(),v=b.Consumer,E=b.Provider,O=function(e){return function(t){function n(){return Object(l.a)(this,n),Object(u.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(m.a)(n,t),Object(s.a)(n,[{key:"render",value:function(){var t=this;return r.a.createElement(v,null,function(n){return r.a.createElement(e,Object.assign({login:n.login,signup:n.signup,user:n.user,logout:n.logout,isLoggedin:n.isLoggedin},t.props))})}}]),n}(a.Component)},y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isLoggedin:!1,user:null,isLoading:!0},n.signup=function(e){var t=e.username,a=e.password;j.signup({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(e){var t=e.response.data;n.setState({message:t.statusMessage})})},n.login=function(e){var t=e.username,a=e.password;j.login({username:t,password:a}).then(function(e){n.setState({isLoggedin:!0,user:e})}).catch(function(){})},n.logout=function(){j.logout().then(function(){n.setState({isLoggedin:!1,user:null})}).catch(function(){})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;j.me().then(function(t){e.setState({isLoggedin:!0,user:t,isLoading:!1})}).catch(function(){e.setState({isLoggedin:!1,user:null,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.isLoggedin,a=e.user;return t?r.a.createElement("div",null,"Loading"):r.a.createElement(E,{value:{isLoggedin:n,user:a,login:this.login,logout:this.logout,signup:this.signup}},this.props.children)}}]),t}(a.Component),C=O(function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.logout;return r.a.createElement("div",null,r.a.createElement("div",{className:"login-container"},r.a.createElement("button",{onClick:function(){return e.props.history.push("/projects")}},"X"),r.a.createElement(d.a,{to:"/profile",className:"link"},"view profile"),r.a.createElement(d.a,{to:"/profile/edit",className:"link"},"edit profile"),r.a.createElement(d.a,{to:"/profile/projects",className:"link"},"view your projects"),r.a.createElement(d.a,{to:"/profile/projects/addProject",className:"link"},"add project"),r.a.createElement("button",{onClick:t},"logout")))}}]),t}(a.Component)),k=O(function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.user,e.logout,e.isLoggedin);return r.a.createElement("div",{className:"nav-container"},r.a.createElement("button",null,r.a.createElement(d.a,{to:"/projects",className:"link"},"connectDev")),t?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{to:"/menu",className:"link menu"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",null,r.a.createElement(d.a,{to:"/login",className:"link"},"Login")),r.a.createElement("button",null,r.a.createElement(d.a,{to:"/signup",className:"link"},"Signup"))))}}]),t}(a.Component)),w=new function e(){var t=this;Object(l.a)(this,e),this.getProfile=function(){return t.profile.get("/profile").then(function(e){return e.data})},this.getStrangersProfile=function(e){return t.profile.get("/profile/id",e).then(function(e){return e.data})},this.editProfile=function(e){return t.profile.put("/profile/edit",e).then(function(e){return e.data})},this.addImage=function(e){return t.profile.post("/profile/image",e).then(function(e){return e.image})},this.addProject=function(e){return t.profile.post("/profile/projects/addProject",e).then(function(e){return e.data})},this.profile=g.a.create({baseURL:"http://connect-dev-ironhack.herokuapp.com",withCredentials:!0})},P=(O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",data:[],filteredData:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchForm"},r.a.createElement("form",null,r.a.createElement("input",{placeholder:"Search for...",value:this.state.query,onChange:this.handleInputChange})),r.a.createElement("div",null,this.state.filteredData.map(function(e){return r.a.createElement("p",null,e.username)})))}}]),t}(a.Component)),new function e(){var t=this;Object(l.a)(this,e),this.getOneProject=function(e,n){return t.project.get("/projects/".concat(e),n).then(function(e){return e.data})},this.editProject=function(e,n){return t.project.put("/projects/".concat(n,"/editProject"),e).then(function(e){return e.data})},this.deleteProject=function(e){return t.project.delete("/projects/".concat(e))},this.addProject=function(e){return t.project.post("/profile/projects/addProject",e).then(function(e){return e.data})},this.getProjectsDashboard=function(){return t.project.get("/projects").then(function(e){return e.data})},this.getProjectsProfile=function(){return t.project.get("/profile/projects").then(function(e){return e.data})},this.addContributors=function(e){return t.project.put("/projects/".concat(e,"/contributors")).then(function(e){return e.data})},this.removeContributor=function(e){return t.project.put("/projects/".concat(e,"/removeContributor")).then(function(e){return e.data})},this.project=g.a.create({baseURL:"http://connect-dev-ironhack.herokuapp.com",withCredentials:!0})}),S=O(function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).joinProject=function(e){console.log("props before joinProject",n.props),P.addContributors(e).then(function(){n.setState({isContributor:!0},function(){return n.props.getAllProjects()})}).catch(function(e){return console.log(e)})},n.removeContributor=function(e){console.log("props before remove ",n.props),P.removeContributor(e).then(function(){n.setState({isContributor:!1},function(){return n.props.getAllProjects()})}).catch(function(e){return console.log(e)})},n.getProject=function(){var e=n.props.match.params.id;P.getOneProject(e).then(function(e){console.log("data in project",e),n.setState({project:e})}).catch(function(e){return console.log(e)})},n.state={project:e.oneProject,isContributor:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e!==this.props&&this.setState({project:this.props.oneProject})}},{key:"componentDidMount",value:function(){this.state.project.contributors[0]&&this.state.project.contributors[0].username===this.props.user.username&&this.setState({isContributor:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.project,a=t.isContributor;return r.a.createElement("div",null,r.a.createElement("h2",null,n.projectname),r.a.createElement("p",null,"owner: ",n.owner?n.owner.username:""),r.a.createElement("p",null,"contributors:",n.contributors.length>0?n.contributors[0].username:""),r.a.createElement("p",null,"description: ",n.description),a?r.a.createElement("button",{onClick:function(){e.removeContributor(n._id),console.log(e.state,n._id)}},"cancel contribution"):r.a.createElement("button",{onClick:function(){e.joinProject(n._id),console.log(e.state,n._id)}},"join project"))}}]),t}(a.Component)),N=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[]},n.getAllProjects=function(e){P.getProjectsDashboard().then(function(e){console.log("data in home",e),n.setState({projects:e})}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getAllProjects()}},{key:"render",value:function(){var e=this;console.log("state in home",this.state),console.log("props in home",this.props);var t=this.state.projects;return r.a.createElement("div",null,r.a.createElement("div",{className:"projects-container"},t&&t.map(function(t,n){return r.a.createElement("div",null,r.a.createElement(S,{oneProject:t,getAllProjects:e.getAllProjects}))})))}}]),t}(a.Component)),F=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[],occupation:"",description:"",imgUrl:"",disable:!0,clickedEdit:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;w.getProfile().then(function(t){console.log(t);var n=t.occupation,a=t.description,r=t.imgUrl;e.setState({occupation:n,description:a,imgUrl:r})})}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.occupation,n=e.description,a=(e.disable,e.clickedEdit,e.imgUrl);return r.a.createElement("div",null,r.a.createElement("div",{className:"profile-container"},r.a.createElement("h2",null,t),r.a.createElement("p",{className:"description-container"},n),r.a.createElement("img",{src:a,alt:"lala"})))}}]),t}(a.Component)),L=n(10),D=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={owner:"",projectname:"",description:"",contributors:[],lookingFor:"",redirect:!1},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.handleSubmit=function(e){console.log("in handleSubmit"),e.preventDefault();var t=n.state,a=t.projectname,r=t.description,o=t.owner,c=t.lookingFor,i=t.redirect;P.addProject({projectname:a,description:r,owner:o,lookingFor:c,redirect:i}).then(function(){n.setState({projectname:a,description:r,lookingFor:c,owner:n.props.user.username,redirect:!0},function(){n.redirectAfterSumbit()})}).catch(function(e){return console.log(e)})},n.redirectAfterSumbit=function(){if(n.state.redirect)return n.props.history.push("/profile/projects")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("state in didMount",this.state);var e=this.state,t=e.projectname,n=e.description,a=e.lookingFor;this.setState({projectname:t,description:n,lookingFor:a,owner:this.props.user.username,redirect:!1})}},{key:"render",value:function(){console.log("state in render",this.state);var e=this.state,t=e.projectname,n=e.description,a=e.lookingFor;return r.a.createElement("div",null,r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"projectname"},"Projectname"),r.a.createElement("input",{type:"text",value:t,name:"projectname",onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"description"},"Description"),r.a.createElement("input",{type:"text",value:n,name:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"lookingFor"},"lookingFor(oppucation)"),r.a.createElement("input",{type:"text",value:a,name:"lookingFor",onChange:this.handleChange})),r.a.createElement("input",{type:"submit"}))))}}]),t}(a.Component)),A=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={owner:"",projectname:"",description:"",contributors:[],lookingFor:"",redirect:!1},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.handleSubmit=function(e){console.log("in handleSubmit"),e.preventDefault();var t=n.state,a=t.projectname,r=t.description,o=t.lookingFor,c=t.redirect;P.editProject({projectname:a,description:r,lookingFor:o,redirect:c},n.props.match.params.id).then(function(){n.setState({projectname:a,description:r,lookingFor:o,redirect:!0},function(){n.redirectAfterSumbit()})}).catch(function(e){return console.log(e)})},n.deleteProject=function(){P.deleteProject(n.props.match.params.id).then(function(){n.setState({redirect:!0})})},n.cancelEdit=function(){return n.props.history.push("/profile/projects")},n.redirectAfterSumbit=function(){if(n.state.redirect)return n.props.history.push("/profile/projects")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("state in didMount",this.state);var e=this.state,t=e.projectname,n=e.description,a=e.lookingFor;this.setState({projectname:t,description:n,lookingFor:a,owner:this.props.user.username})}},{key:"render",value:function(){var e=this;console.log("state in render",this.state),console.log("hello, I am in editProject");var t=this.state,n=t.projectname,a=t.description,o=t.lookingFor;return r.a.createElement("div",null,r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"projectname"},"Projectname"),r.a.createElement("input",{type:"text",value:n,name:"projectname",onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"description"},"Description"),r.a.createElement("input",{type:"text",value:a,name:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"lookingFor"},"lookingFor(oppucation)"),r.a.createElement("input",{type:"text",value:o,name:"lookingFor",onChange:this.handleChange})),r.a.createElement("input",{type:"submit"}))),r.a.createElement("button",{onClick:this.cancelEdit},"Cancel"),r.a.createElement("button",{onClick:function(){e.deleteProject(),e.redirectAfterSumbit()}},"Delete Project"))}}]),t}(a.Component)),x=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[],occupation:"",description:"",imgUrl:"",disable:!0,clickedEdit:!1},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.occupation,r=t.description;w.editProfile({occupation:a,description:r}).then(function(e){n.setState({occupation:e.occupation,description:e.description,clickedEdit:!1})}).catch(function(e){return console.log(e)})},n.fileOnchange=function(e){console.log("state in fileOnChange",n.state.imgUrl),console.log("in fileOnChange");var t=e.target.files[0],a=new FormData;a.append("photo",t),w.addImage(a).then(function(e){console.log("state in fileOnChange",n.state.imgUrl),n.setState({imgUrl:e,disable:!1}),console.log("state in fileOnChange",n.state.imgUrl)}).catch(function(e){return console.log(e)})},n.cancelEdit=function(){return n.props.history.push("/profile")},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.occupation,n=e.description,a=e.disable;return r.a.createElement("div",{className:"profile-container"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"occupation"},"occupation"),r.a.createElement("input",{type:"text",value:t,name:"occupation",onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",{name:"description"},"Description"),r.a.createElement("input",{type:"text",value:n,name:"description",onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Image"),r.a.createElement("input",{type:"file",onChange:this.fileOnchange})),a?r.a.createElement("input",{type:"submit",disabled:!0}):r.a.createElement("input",{type:"submit"})),r.a.createElement("button",{onClick:this.cancelEdit},"Cancel"))}}]),t}(a.Component)),U=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={profileProjects:[]},n.getProfileProjects=function(){P.getProjectsProfile().then(function(e){n.setState({profileProjects:e.projects})}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getProfileProjects()}},{key:"render",value:function(){console.log("state in profile",this.state);var e=this.state.profileProjects;return r.a.createElement("div",null,r.a.createElement("div",{className:"projects-container"},e&&e.map(function(e,t){return r.a.createElement("div",{key:t,className:"projects-container"},r.a.createElement("h2",null,e.projectname),r.a.createElement("p",null,e.description),r.a.createElement("button",null,r.a.createElement(d.a,{to:"/projects/".concat(e._id,"/editProject"),className:"link"},"edit Project")))})))}}]),t}(a.Component)),M=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.signup({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Signup"})),r.a.createElement("p",null,"Already have account?",r.a.createElement(d.a,{to:"/login"}," Login")))}}]),t}(a.Component)),I=O(function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},n.handleFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login({username:a,password:r})},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(L.a)({},a,r))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return r.a.createElement("div",{className:"login-container"},r.a.createElement("form",{onSubmit:this.handleFormSubmit},r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange})),r.a.createElement("div",{className:"input-container"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",value:n,onChange:this.handleChange})),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(a.Component)),_=n(16),R=n(59),q=n(57);var J=O(function(e){var t=e.component,n=e.isLoggedin,a=Object(_.a)(e,["component","isLoggedin"]);return r.a.createElement(R.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(q.a,{to:"/login"})}}))});var B=O(function(e){var t=e.component,n=e.isLoggedin,a=Object(_.a)(e,["component","isLoggedin"]);return r.a.createElement(R.a,Object.assign({},a,{render:function(e){return n?r.a.createElement(q.a,{to:"/profile"}):r.a.createElement(t,e)}}))}),X=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(y,null,r.a.createElement("div",{className:"container"},r.a.createElement(k,null)),r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement(B,{path:"/signup",component:M}),r.a.createElement(B,{path:"/login",component:I}),r.a.createElement(J,{exact:!0,path:"/projects",component:N}),r.a.createElement(J,{exact:!0,path:"/profile",component:F}),r.a.createElement(J,{exact:!0,path:"/profile/projects",component:U}),r.a.createElement(J,{exact:!0,path:"/profile/projects/addProject",component:D}),r.a.createElement(J,{path:"/projects/:id/editProject",component:A}),r.a.createElement(J,{exact:!0,path:"/profile/edit",component:x}),r.a.createElement(J,{exact:!0,path:"/menu",component:C}))))}}]),t}(a.Component);n(53);c.a.render(r.a.createElement(i.a,null,r.a.createElement(X,{className:"container"})),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.21e1e0a7.chunk.js.map